@media (prefers-reduced-motion: reduce) {
  :root { --dur: .5s; --slow: .6s; }
}
@media (prefers-reduced-motion: no-preference) {
  :root { --dur: 1s; --slow: 1.2s; }
}

:root{
  --bg:#000;
  --ink:#e4dcd4;
  --gold:#d4b77a;
  --soft:#0d0d10;
  --glow: rgba(255,236,200,.35);
}

*{ box-sizing:border-box; }
html,body{ height:100%; margin:0; }
body.intro{
  background: radial-gradient(1200px 800px at 50% 60%, #0a0a0e 0%, #000 60%);
  color: var(--ink);
  font-family: "Yu Mincho", "Hiragino Mincho ProN", serif;
  overflow:hidden;
}

.stage{ position:relative; inset:0; width:100vw; height:100vh; }

/* ===== 星屑＆ビネット ===== */
#stars{
  position:absolute; inset:0; width:100%; height:100%;
  display:block; filter: brightness(.9);
}
.vignette{
  position:absolute; inset:-10vmax;
  background: radial-gradient(ellipse at center, transparent 40%, rgba(0,0,0,.55) 80%);
  pointer-events:none;
}

/* ===== 題字（縦書き） ===== */
.title{
  right:min(8vw, 84px); /* ← 64px → 84px くらいに広げる */
  top:50%;
  transform: translateY(-50%);
  opacity:0;
  animation: titleIn var(--slow) ease forwards; animation-delay: 1.2s;
}

.title-vertical{
  writing-mode: vertical-rl;
  text-orientation: mixed;
  text-align:center;
}
.title h1{
  margin:0;
  font-family: "Shippori Mincho B1","Yu Mincho","Hiragino Mincho ProN",serif;
  font-weight: 800;
  font-size: clamp(30px, 6.5vw, 62px);
  letter-spacing:.14em;
  /* 白インクに金の縁取りっぽい輝き */
  color:#f4efe8;
  -webkit-text-stroke: 0.8px rgba(210,180,120,.35);
  text-shadow:
    0 0 24px rgba(255,240,210,.28),
    0 0 2px rgba(255,255,255,.9);
}
.title .subtitle{
  margin:.9rem 0 0;
  font-family: "Shippori Mincho B1","Yu Mincho",serif;
  letter-spacing:.08em;
  color:#cabab1;
  opacity:0; transform: translateY(6px);
  animation: subIn var(--dur) ease forwards; animation-delay: 1.7s;
}


/* ===== 紋章（中央でレイヤー重ね） ===== */

.ring{
  position:absolute; left:50%; top:50%;
  width:min(42vmin,520px); height:auto;
  transform: translate(-50%, -50%) scale(.9) rotate(0deg);
  opacity:0;
  filter: drop-shadow(0 0 10px rgba(255,226,170,.2));
  animation:
    ringIn var(--dur) ease forwards 3.8s,
    ringSpin 12s linear infinite 3.8s;
}
/* 紋章を少し大きく＆ほんの少し下に */
.crest{
  position:absolute; left:50%; top:52%;
  width:min(74vmin, 760px); height:min(74vmin, 760px);
  transform: translate(-50%,-50%);
}
/* 冠は光源に寄せてやや右上、サイズも少し控えめに */
.crown{
  top:33%;
  width:min(18vmin, 230px);
  transform: translate(-50%, -50%) rotate(-4deg);
}
/* 光の筋はリングより一回り大きく、強すぎない発光に */
.shafts{
  width:min(78vmin, 1180px);
  mix-blend-mode: screen;
  opacity:0;
  filter: brightness(1.05) contrast(1.08);
}



/* ===== 白フェード ===== */
.whiteout{
  position:absolute; inset:0; background:#fff;
  opacity:0; pointer-events:none;
  animation: whiteOut 1.0s ease forwards 10.5s;
}

/* ===== UI ===== */
.ui{
  position:absolute; z-index:5;
  background: rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.15);
  color:#e9e1d9; padding:.45rem .7rem; font-size:.85rem;
  letter-spacing:.06em; border-radius:8px;
  backdrop-filter: blur(6px);
}
.skip{ right:18px; top:16px; }
.sound{ left:18px; bottom:16px; }
.sound[aria-pressed="true"]{ background: rgba(255,255,255,.14); }

/* ===== keyframes ===== */
@keyframes titleIn{
  to{ opacity:1; transform: translateY(-50%) }
}
@keyframes subIn{ to{ opacity:.9; transform: translateY(0); } }
@keyframes ringIn{
  to{ opacity:1; transform: translate(-50%,-50%) scale(1) rotate(0deg); }
}
@keyframes ringSpin{
  to{ transform: translate(-50%,-50%) scale(1) rotate(360deg); }
}
@keyframes crownIn{
  from{ transform: translate(-50%,-58%) scale(1.12) rotate(-6deg); }
  to  { opacity:1; transform: translate(-50%,-50%) scale(1) rotate(-2deg); }
}
@keyframes shaftsIn{
  0%  { opacity:0;   transform: translate(-50%,-50%) scale(1.05); }
  60% { opacity:.85; transform: translate(-50%,-50%) scale(1.01); }
  100%{ opacity:.80; transform: translate(-50%,-50%) scale(1); }
}

@keyframes whiteOut{ to{ opacity:1; } }

/* ===== 動きを減らす設定 ===== */
@media (prefers-reduced-motion: reduce) {
  .title{ animation-duration:.3s; }
  .ring{ animation: ringIn .3s ease forwards 1.2s; }
  .crown{ animation: crownIn .3s ease forwards 1.3s; }
  .shafts{ animation: shaftsIn .4s ease forwards 2s; }
  .whiteout{ animation: whiteOut .6s ease forwards 2.7s; }
}
/* 画面に微細グレインを常時乗せる（画像不要） */
.stage::after{
  content:""; position:absolute; inset:-2vmax; pointer-events:none;
  background:
    radial-gradient(1200px 800px at 50% 60%, rgba(255,255,255,.02), transparent 60%),
    repeating-linear-gradient(0deg,
      rgba(255,255,255,.018) 0 1px,
      rgba(0,0,0,0) 1px 2px);
  mix-blend-mode: overlay;
  opacity:.45;
}
