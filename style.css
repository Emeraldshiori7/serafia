:root{
  --ink:#e9dfd6; --bg:#000; --gold:#d5bd86;
  --panel:rgba(255,240,230,0.05); --glow:rgba(255,236,200,.35);
}
*{box-sizing:border-box} html,body{height:100%;margin:0}
body.hall{font-family:"Cormorant Garamond","Yu Mincho",serif;color:var(--ink);background:var(--bg);letter-spacing:.03em;overflow-x:hidden}

/* 背景 */
.bg{position:fixed;inset:0;z-index:-1;pointer-events:none;background:radial-gradient(1200px 800px at 50% 55%, #0b0b0f 0%, #000 65%)}
#dust{position:absolute;inset:0;display:block;filter:brightness(.9) contrast(1.05)}
.vignette{position:absolute;inset:-8vmax;background:radial-gradient(ellipse at 50% 40%, transparent 45%, rgba(0,0,0,.65) 80%)}
.floor-glow{position:absolute;left:50%;bottom:-8vh;transform:translateX(-50%);width:min(90vw,1100px);height:26vh;background:radial-gradient(60% 100% at 50% 0%, rgba(170,160,140,.18), transparent 70%);filter:blur(10px)}

/* 奥のレリーフ（CSSパターン） */
.relief{
  position:absolute; inset:0; opacity:.22; filter:blur(.2px);
  animation:reliefFloat 18s ease-in-out infinite alternate;
  background:
    repeating-conic-gradient(from 45deg, rgba(255,240,220,.045) 0 25%, transparent 0 50%) 0 0/38px 38px,
    radial-gradient(closest-side, rgba(255,240,220,.06) 0%, rgba(255,240,220,.015) 55%, transparent 62%) 24px 20px/120px 120px repeat,
    linear-gradient(#070709, #000);
}
@keyframes reliefFloat{from{transform:translateY(-4px);opacity:.20}to{transform:translateY(4px);opacity:.25}}
@media (prefers-reduced-motion:reduce){.relief{animation:none}}

/* タイトル */
.hero{ text-align:center; padding:8vh 2rem 2rem }
.hero h1{
  margin:0; font-family:"Cinzel",serif; letter-spacing:.18em; font-weight:600;
  font-size:clamp(28px,6vw,60px); text-shadow:0 0 18px var(--glow);
  transform:translateY(6px); opacity:0; animation:fadeUp .9s ease .2s forwards;
}
.subtitle{ margin:.6rem 0 0; color:#b8aca4; opacity:0; transform:translateY(8px); animation:fadeUp .8s ease .6s forwards }
@keyframes fadeUp{to{opacity:1; transform:translateY(0)}}

/* セラフィアの“気配”（薄いシルエット画像を推奨 /img/seraphia.png） */
/* セラフィアの“佇み”＋中心からの淡い光 */
.seraphia-silhouette{
  position:fixed; right:6vw; bottom:8vh;
  width:min(24vw, 340px); aspect-ratio:3/5;
  background:url('assets/seraphia/seraphia_manifest.png') center/contain no-repeat;
  opacity:.10;                          /* うっすら */
  filter: grayscale(100%) contrast(120%) brightness(120%);
  mix-blend-mode:screen;                /* 冷たい神々しさ */
  pointer-events:none; user-select:none;
  animation: seraphiaSway 14s ease-in-out infinite;
}

/* 中心からの柔らかい光（後光） */
.seraphia-silhouette::after{
  content:""; position:absolute; inset:-12%;
  background:
    conic-gradient(from -90deg at 50% 8%, rgba(255,250,230,.12), transparent 40%)
    radial-gradient(40% 40% at 50% 55%, rgba(255,240,210,.18), transparent 70%),
    radial-gradient(18% 18% at 50% 55%, rgba(255,255,255,.22), transparent 80%);
  filter: blur(10px);
  opacity:.9; pointer-events:none;
}

/* ごく僅かな呼吸（揺らぎ） */
@keyframes seraphiaSway{
  0%,100%{ transform: translateY(0) }
  50%    { transform: translateY(-3px) }
}

/* 動作を控えたい環境へ配慮 */
@media (prefers-reduced-motion: reduce){
  .seraphia-silhouette{ animation:none }
}


/* 扉グリッド */
.doors{ width:min(900px,88vw); margin:32px auto 6vh; display:grid; grid-template-columns:repeat(3,minmax(200px,1fr)); gap:18px }
.door{
  position:relative; aspect-ratio:3/4; border-radius:10px; overflow:hidden; text-decoration:none;
  display:flex; align-items:end; justify-content:center; padding:14px 10px; color:#f1e9df; letter-spacing:.12em;
  background: radial-gradient(180% 100% at 50% 0%, rgba(255,220,160,.06), transparent 60%),
             repeating-linear-gradient(90deg,#0b0b0d 0 6px,#0f0f12 6px 12px),
             linear-gradient(180deg,#0a0a0c,#141419);
  box-shadow: inset 0 0 0 1px rgba(235,205,120,.25), inset 0 0 0 6px rgba(235,205,120,.06),
              inset 0 0 24px rgba(0,0,0,.65), 0 0 25px rgba(255,220,140,.06);
  transition: transform .35s ease, box-shadow .35s ease, filter .35s ease;
  filter: grayscale(20%) contrast(104%) brightness(92%);
}
.door::before{content:""; position:absolute; inset:8px; border-radius:8px;
  border:1px solid rgba(235,205,120,.45); box-shadow: inset 0 0 12px rgba(235,205,120,.15); mix-blend-mode:screen; opacity:.9}
.door::after{content:""; position:absolute; inset:16px; border-radius:6px; border:1px solid rgba(235,205,120,.25); box-shadow: inset 0 0 18px rgba(235,205,120,.08); opacity:.85}

/* 扉の個別画像（差し替えOK） */
.door--1{background-image:url('assets/doors/ebony1.jpg'); background-size:cover; background-position:center}
.door--2{background-image:url('assets/doors/ebony2.jpg'); background-size:cover; background-position:center}
.door--3{background-image:url('assets/doors/ebony3.jpg'); background-size:cover; background-position:center}
.door--4{background-image:url('assets/doors/ebony4.jpg'); background-size:cover; background-position:center}
.door--5{background-image:url('assets/doors/ebony5.jpg'); background-size:cover; background-position:center}
.door--6{background-image:url('assets/doors/ebony6.jpg'); background-size:cover; background-position:center}
.door--7{background-image:url('assets/doors/ebony7.jpg'); background-size:cover; background-position:center}
.door--8{background-image:url('assets/doors/ebony8.jpg'); background-size:cover; background-position:center}
.door--9{background-image:url('assets/doors/ebony9.jpg'); background-size:cover; background-position:center}

/* ラベル（銘板） */
.door__label{
  position:relative; z-index:2; font-size:clamp(14px,1.5vw,18px);
  padding:.35rem .7rem; background:rgba(0,0,0,.45);
  border:1px solid rgba(235,205,120,.35); border-radius:6px; text-shadow:0 1px 0 rgba(0,0,0,.8);
  box-shadow:0 0 12px rgba(255,220,150,.08);
}

/* グリントと星粉 */
.glare{position:absolute; inset:0; background:linear-gradient(65deg,transparent 40%,rgba(255,245,210,.28) 50%,transparent 60%); transform:translateX(-120%); filter:blur(1px); opacity:0; transition:opacity .4s ease, transform .9s ease}
.sparks{position:absolute; inset:0; background:
  radial-gradient(2px 2px at 20% 30%, rgba(255,240,200,.7), transparent 60%),
  radial-gradient(1.5px 1.5px at 70% 60%, rgba(255,240,200,.5), transparent 60%),
  radial-gradient(1.5px 1.5px at 40% 75%, rgba(255,240,200,.35), transparent 60%); opacity:0; transition:opacity .6s ease}

/* ホバー＆フォーカス */
@media (hover:hover){
  .door:hover{ transform:translateY(-4px) scale(1.02); box-shadow: inset 0 0 0 1px rgba(255,230,160,.5), inset 0 0 0 6px rgba(255,230,160,.08), inset 0 0 34px rgba(0,0,0,.6), 0 10px 35px rgba(255,210,120,.18); filter:saturate(1.08) contrast(1.05) }
  .door:hover .glare{ opacity:.9; transform:translateX(120%) }
  .door:hover .sparks{ opacity:.7 }
}
.door:focus-visible{ outline:2px solid rgba(255,230,160,.8); outline-offset:3px }

/* 囁き（薄れても消えない） */
.whisper{ position:fixed; right:max(20px,4vw); bottom:max(18px,4vh); max-width:38ch; font-size:clamp(12px,1.2vw,16px); line-height:1.9; letter-spacing:.06em; color:#cbbfb6; pointer-events:none; user-select:none }
.whisper .line{ display:inline-block; opacity:0; filter:blur(.3px); animation:appear 1800ms ease forwards, breathe 6s ease-in-out infinite }
@keyframes appear{0%{opacity:0; transform:translateY(6px)}100%{opacity:.85; transform:translateY(0)}}
@keyframes breathe{0%,100%{opacity:.85; transform:translateY(0)}50%{opacity:.45; transform:translateY(-3px)}}

/* フッター */
.mini{ display:flex; justify-content:center; padding:14px 0 24px }
.ghost{ background:transparent; border:1px solid rgba(255,255,255,.22); color:#e9e1d9; padding:.5rem .8rem; border-radius:8px; letter-spacing:.06em; cursor:pointer; transition:background .2s ease, transform .2s ease }
.ghost:hover{ background:rgba(255,255,255,.08); transform:translateY(-1px) }

/* レスポンシブ */
@media (max-width:768px){ .doors{ grid-template-columns:1fr 1fr; gap:14px } .door{ aspect-ratio:5/4 } }
.seraphia-silhouette{ opacity:0; animation: seraphiaIn 1.6s ease .6s forwards }
@keyframes seraphiaIn{
  from{ opacity:0; transform:translateY(6px) }
  to  { opacity:.10; transform:translateY(0) }
}
/* 大広間の2カラム：左=扉、右=セラフィアの余白 */
.hall-grid{
  width: min(1100px, 92vw);
  margin: 4vh auto 8vh;
  padding: 0 22px;
  display: grid;
  grid-template-columns: 1fr min(26vw, 300px); /* 右に専用スペース */
  gap: 28px;
  align-items: end;
}

/* 2カラム：左=扉 右=セラフィア用スペース */
.hall-grid{
  width: min(1100px, 92vw);
  margin: 4vh auto 8vh;
  padding: 0 22px;
  display: grid;
  grid-template-columns: 1fr min(28vw, 320px);
  gap: 28px;
  align-items: end;
}
.hall-grid .doors{ grid-column: 1 / 2; z-index: 2; }
.hall-grid .seraphia-space{ grid-column: 2 / 3; min-height: 40vh; }

/* 画面に“固定”されたセラフィア本体（右列の内側にぴったり） */
.seraphia-silhouette{
  position: fixed;
  /* 右マージン = (画面幅 - コンテナ幅)/2 + コンテナの左右padding */
  right: calc((100vw - min(1100px, 92vw)) / 2 - 140px);
  bottom: 8vh;

  width: min(50vw, 300px);
  aspect-ratio: 3/5;
  background: url('assets/seraphia/seraphia_manifest.png') center/contain no-repeat;
  opacity: .10;
  filter: grayscale(100%) contrast(110%) brightness(108%);
  mix-blend-mode: screen;
  pointer-events: none;
  user-select: none;
  z-index: 1;               /* 扉より奥に */
}

/* ほんのり呼吸（任意） */
@keyframes seraphiaSway{ 0%,100%{transform:translateY(0)} 50%{transform:translateY(-3px)} }
@media (prefers-reduced-motion: no-preference){
  .seraphia-silhouette{ animation: seraphiaSway 14s ease-in-out infinite; }
}

/* モバイルは1カラムにして重なり回避 */
@media (max-width: 768px){
  .hall-grid{ grid-template-columns: 1fr; gap: 18px; }
  .hall-grid .seraphia-space{ display:none; }
  .seraphia-silhouette{
    right: 16px;            /* 右端に寄せる */
    width: min(42vw, 220px);
    opacity: .08;
  }
}

