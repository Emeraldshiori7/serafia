:root{ --ink:#e9dfd6; --bg:#000; }
*{ box-sizing:border-box } html,body{ height:100%; margin:0 }
body.hall{ font-family:"Cormorant Garamond","Yu Mincho",serif; color:var(--ink); background:#000; overflow-x:hidden }

/* 背景の星だけ（最小） */
#dust{ position:fixed; inset:0; display:block; }

/* タイトル */
.hero{ text-align:center; padding:6vh 2rem 0 }
.hero h1{ margin:0; font-family:"Cinzel",serif; letter-spacing:.18em; font-size:clamp(28px,6vw,60px) }
.subtitle{ margin:.4rem 0 0; opacity:.8 }

/* ── 祭壇ステージ：画面中央に固定し、内側を基準にする ── */
.hall-stage{
  position:fixed; left:50%; top:52vh; transform:translate(-50%,-50%);
  width:min(1200px,96vw); height:min(80vh,720px);
  isolation:isolate; z-index:1;
  /* 調整が分かりやすいよう薄い背景（本番で消してOK） */
  background: radial-gradient(80% 60% at 50% 50%, rgba(255,255,255,.015), transparent 70%);
}

/* ── 扉：座標は CSS 変数 --tx/--ty を JS が更新 ── */
.doors--orbit{ position:absolute; inset:0 }
/* 楕円リング内の扉（既存に追記済みバージョン） */
.doors--orbit .door{
  position:absolute; top:0; left:0;
  width: clamp(140px, 18vmin, 220px);
  aspect-ratio: 3/4;
  --tx: 0px; --ty: 0px;
  transform: translate(var(--tx), var(--ty)) translate(-50%,-50%) scale(var(--pulse, 1));
  will-change: transform, filter;
  transition: filter .45s ease;
}

.doors--orbit .door:hover{
  transform: translate(var(--tx), var(--ty)) translate(-50%,-50%) scale(1.06);
}
.door__label{ background:rgba(0,0,0,.5); padding:.35rem .6rem; border-radius:8px; margin:10px }
/* === 扉をカード→立体的な“古いドア”風に === */
.door {
  position: relative;
  border-radius: 4px; /* 扉なので角をやや鋭く */
  overflow: hidden;
  background: linear-gradient(180deg, #201a16, #0e0a07);
  box-shadow:
    inset 0 0 0 2px rgba(120,100,60,.35),
    inset 0 0 0 6px rgba(70,50,30,.25),
    inset 0 0 20px rgba(0,0,0,.8),
    0 8px 20px rgba(0,0,0,.6);
  border: none;
  transition: transform .4s ease, box-shadow .4s ease, filter .4s ease;
}

/* 外枠の金属風フレーム */
.door::before {
  content: "";
  position: absolute;
  inset: 0;
  border: 3px solid rgba(190,160,100,.45);
  border-radius: 3px;
  box-shadow:
    inset 0 0 14px rgba(255,220,150,.15),
    0 0 8px rgba(255,220,150,.08);
  pointer-events: none;
}

/* 扉の中央部分に“段差”と“陰影”を付けて奥行きを出す */
.door::after {
  content: "";
  position: absolute;
  inset: 10%;
  border-radius: 2px;
  background:
    linear-gradient(145deg, rgba(60,45,25,.3), rgba(0,0,0,.6)),
    repeating-linear-gradient(0deg, rgba(255,240,200,.05) 0 1px, transparent 1px 3px);
  box-shadow: inset 0 0 18px rgba(0,0,0,.8);
  mix-blend-mode: multiply;
  pointer-events: none;
  transition: opacity .4s ease;
}

/* ハイライトを“縁”に少し加える（木のツヤっぽく） */
.door::before {
  background:
    linear-gradient(90deg, rgba(255,250,200,.06) 0%, transparent 20%, transparent 80%, rgba(255,250,200,.06) 100%);
}

/* 扉にマウスを当てた時の動き：軽く浮いて、柔らかく光る */
@media (hover:hover){
  .door:hover {
    transform: translateY(-6px) scale(1.03);
    box-shadow:
      inset 0 0 0 2px rgba(255,230,170,.5),
      inset 0 0 0 6px rgba(90,70,40,.25),
      inset 0 0 24px rgba(0,0,0,.7),
      0 10px 30px rgba(255,210,120,.18);
    filter: brightness(1.05) contrast(1.08) saturate(1.1);
  }
  .door:hover::after {
    opacity: .7;
  }
}

/* ラベル（部屋名）をドアの“金属プレート”風に */
.door__label {
  background: linear-gradient(180deg, rgba(40,35,25,.85), rgba(10,10,8,.9));
  border: 1px solid rgba(235,205,120,.4);
  border-radius: 4px;
  padding: .4rem .9rem;
  box-shadow:
    inset 0 1px 3px rgba(255,255,255,.08),
    0 2px 6px rgba(0,0,0,.6);
  text-shadow: 0 1px 2px rgba(0,0,0,.9);
}

/* ── セラフィア：ステージの幾何学中心に絶対配置 ── */
.seraphia-silhouette{
  position:absolute; left:50%; top:50%;
  /* 見た目の合わせ用：必要なら微調整（px/%) */
  --seraphia-offset-x: 0px;
  --seraphia-offset-y: 0px;
  transform: translate(-50%, -50%) translate(var(--seraphia-offset-x), var(--seraphia-offset-y));
  width:min(38vmin,420px); aspect-ratio:3/5;
  background: url('assets/seraphia/seraphia_manifest.png') center/contain no-repeat;
  opacity:.12; filter:grayscale(100%) contrast(128%) brightness(128%); mix-blend-mode:screen;
  pointer-events:none; z-index:2;
}
/* 背面の柔らかい後光（光の輪＋淡い放射） */
.seraphia-silhouette::before{
  content:"";
  position:absolute;
  inset:-16%;
  z-index:-2;                 /* 本体の“背面”に置く */
  pointer-events:none;
  mix-blend-mode:screen;
  opacity:.95;

  /* 中心の光輪 + 放射のスジ（控えめ） */
  background:
    /* 薄い放射（conic） */
    conic-gradient(from -90deg at 50% 40%,
      rgba(255,240,210,.10), transparent 15%,
      rgba(255,240,210,.10) 30%, transparent 45%,
      rgba(255,240,210,.10) 60%, transparent 75%,
      rgba(255,240,210,.10) 90%, transparent 100%),
    /* 中間の光輪 */
    radial-gradient(60% 60% at 50% 55%, rgba(255,230,190,.30), transparent 80%),
    /* 内側の強い光 */
    radial-gradient(38% 38% at 50% 55%, rgba(255,255,255,.40), transparent 78%);
  filter: blur(14px);
  animation: haloPulse 7s ease-in-out infinite;
}
@keyframes haloPulse{
  0%,100%{ filter: blur(14px) brightness(1); opacity:.95 }
  50%    { filter: blur(18px) brightness(1.12); opacity:1 }
}

/* ほんのり周囲を洗う面光（さらに奥：とても薄い） */
.seraphia-silhouette::after{
  content:"";
  position:absolute;
  inset:-22%;
  z-index:-3;                 /* ::before よりもさらに背面 */
  pointer-events:none;
  mix-blend-mode:screen;
  opacity:.55;
  background:
    radial-gradient(80% 70% at 50% 52%, rgba(255,235,200,.16), transparent 80%);
  filter: blur(26px);
}
/* いったん既存の ::before/::after を無効化（他所で定義されていても消す） */
.seraphia-silhouette::before,
.seraphia-silhouette::after{
  content: none !important;
}

/* --- CSSだけの後光（強め・見える用） --- */
.seraphia-silhouette{
  position: absolute; left: 50%; top: 50%;
  transform: translate(-50%, -50%);
  width: min(38vmin, 420px); aspect-ratio: 3/5;
  background: url('assets/seraphia/seraphia_manifest.png') center/contain no-repeat;
  opacity: .16;
  filter: grayscale(100%) contrast(128%) brightness(130%);
  mix-blend-mode: screen;
  pointer-events: none; z-index: 2;
}

/* 背面の“息する”後光（必ず本体の背面に出る） */
/* 背面の“息する”後光（暗くならない版） */
.seraphia-silhouette::before{
  content: "";
  position: absolute;
  inset: -14%;                 /* 広がり控えめ。もっと広げたい時は -18% へ */
  z-index: -1;                 /* 本体の背面。扉より後ろに行かないように */
  pointer-events: none;

  /* ★ ブレンド：明るい所だけを上書き（暗くならない） */
  mix-blend-mode: lighten;

  /* 明るさ・柔らかさ（強すぎたら opacity/blur を下げる） */
  opacity: .75;
  filter: blur(16px) brightness(1.08);

  /* 光だけを描く（黒は一切使わない） */
  background:
    /* やわらかい放射（控えめ） */
    conic-gradient(from -90deg at 50% 42%,
      rgba(255,240,210,.12), transparent 16%,
      rgba(255,240,210,.12) 32%, transparent 48%,
      rgba(255,240,210,.12) 64%, transparent 80%,
      rgba(255,240,210,.12) 96%, transparent 100%),
    /* 中間の光輪 */
    radial-gradient(62% 62% at 50% 56%, rgba(255,230,190,.30), transparent 80%),
    /* 内側の光 */
    radial-gradient(38% 38% at 50% 56%, rgba(255,255,255,.36), transparent 78%);
  animation: haloPulse 7s ease-in-out infinite;
}
@keyframes haloPulse{
  0%,100%{ filter: blur(16px) brightness(1.06); opacity:.75 }
  50%    { filter: blur(20px) brightness(1.12); opacity:.9 }
}


/* 囁き：画面中央下（ステージとは独立） */
.whisper{ position:fixed; left:50%; bottom:7vh; transform:translateX(-50%); opacity:.9; text-align:center }
/* ===== タイトル層を扉より手前に配置 ===== */
/* ===== タイトルを扉より前面・縦並びで中央に配置 ===== */
.hero {
  position: fixed;
  top: 18vh;             /* ← タイトルの縦位置。お好みで18〜24vhくらい */
  left: 50%;
  transform: translateX(-50%);
  width: 100%;
  text-align: center;
  display: flex;
  flex-direction: column; /* ← ← ここが重要！縦並びにする */
  align-items: center;
  gap: 0.6rem;            /* ← タイトルとサブタイトルの間隔 */
  z-index: 5;             /* 扉やセラフィアより前 */
  pointer-events: none;   /* タイトルが前にあっても扉クリックを妨げない */
}

/* メインタイトル */
.hero h1 {
  font-family: "Cinzel", serif;
  font-weight: 600;
  letter-spacing: 0.18em;
  font-size: clamp(28px, 6vw, 60px);
  color: #f3eadf;
  text-shadow: 0 0 22px rgba(255, 240, 200, 0.6),
               0 0 48px rgba(255, 220, 150, 0.3);
  margin: 0;
  z-index: 5;
}

/* サブタイトル */
.hero .subtitle {
  font-family: "Cormorant Garamond", "Yu Mincho", serif;
  font-style: italic;
  color: #d0c4b6;
  font-size: clamp(13px, 2.4vw, 18px);
  letter-spacing: 0.08em;
  text-shadow: 0 0 18px rgba(255, 220, 150, 0.4);
  margin: 0;
  z-index: 5;
}

