:root{ --ink:#e9dfd6; --bg:#000; }
*{ box-sizing:border-box } html,body{ height:100%; margin:0 }
body.hall{ font-family:"Cormorant Garamond","Yu Mincho",serif; color:var(--ink); background:#000; overflow-x:hidden }

/* 背景の星だけ（最小） */
#dust{ position:fixed; inset:0; display:block; }

/* タイトル */
.hero{ text-align:center; padding:6vh 2rem 0 }
.hero h1{ margin:0; font-family:"Cinzel",serif; letter-spacing:.18em; font-size:clamp(28px,6vw,60px) }
.subtitle{ margin:.4rem 0 0; opacity:.8 }

/* ── 祭壇ステージ：画面中央に固定し、内側を基準にする ── */
.hall-stage{
  position:fixed; left:50%; top:52vh; transform:translate(-50%,-50%);
  width:min(1200px,96vw); height:min(80vh,720px);
  isolation:isolate; z-index:1;
  /* 調整が分かりやすいよう薄い背景（本番で消してOK） */
  background: radial-gradient(80% 60% at 50% 50%, rgba(255,255,255,.015), transparent 70%);
}

/* ── 扉：座標は CSS 変数 --tx/--ty を JS が更新 ── */
.doors--orbit{ position:absolute; inset:0 }
.doors--orbit .door{
  position:absolute; top:0; left:0;
  width: clamp(140px, 18vmin, 220px);
  aspect-ratio: 3/4;
  --tx: 0px; --ty: 0px;
  transform: translate(var(--tx), var(--ty)) translate(-50%,-50%);
  display:flex; align-items:end; justify-content:center;
  color:#e9e1d9; text-decoration:none;
  background: rgba(255,255,255,.03);
  border-radius:12px;
  box-shadow: inset 0 0 0 1px rgba(220,190,120,.35), inset 0 0 0 6px rgba(220,190,120,.06);
}
.doors--orbit .door:hover{
  transform: translate(var(--tx), var(--ty)) translate(-50%,-50%) scale(1.06);
}
.door__label{ background:rgba(0,0,0,.5); padding:.35rem .6rem; border-radius:8px; margin:10px }

/* ── セラフィア：ステージの幾何学中心に絶対配置 ── */
.seraphia-silhouette{
  position:absolute; left:50%; top:50%;
  /* 見た目の合わせ用：必要なら微調整（px/%) */
  --seraphia-offset-x: 0px;
  --seraphia-offset-y: 0px;
  transform: translate(-50%, -50%) translate(var(--seraphia-offset-x), var(--seraphia-offset-y));
  width:min(38vmin,420px); aspect-ratio:3/5;
  background: url('assets/seraphia/seraphia_manifest.png') center/contain no-repeat;
  opacity:.12; filter:grayscale(100%) contrast(128%) brightness(128%); mix-blend-mode:screen;
  pointer-events:none; z-index:2;
}
/* 背面の柔らかい後光（光の輪＋淡い放射） */
.seraphia-silhouette::before{
  content:"";
  position:absolute;
  inset:-16%;
  z-index:-2;                 /* 本体の“背面”に置く */
  pointer-events:none;
  mix-blend-mode:screen;
  opacity:.95;

  /* 中心の光輪 + 放射のスジ（控えめ） */
  background:
    /* 薄い放射（conic） */
    conic-gradient(from -90deg at 50% 40%,
      rgba(255,240,210,.10), transparent 15%,
      rgba(255,240,210,.10) 30%, transparent 45%,
      rgba(255,240,210,.10) 60%, transparent 75%,
      rgba(255,240,210,.10) 90%, transparent 100%),
    /* 中間の光輪 */
    radial-gradient(60% 60% at 50% 55%, rgba(255,230,190,.30), transparent 80%),
    /* 内側の強い光 */
    radial-gradient(38% 38% at 50% 55%, rgba(255,255,255,.40), transparent 78%);
  filter: blur(14px);
  animation: haloPulse 7s ease-in-out infinite;
}
@keyframes haloPulse{
  0%,100%{ filter: blur(14px) brightness(1); opacity:.95 }
  50%    { filter: blur(18px) brightness(1.12); opacity:1 }
}

/* ほんのり周囲を洗う面光（さらに奥：とても薄い） */
.seraphia-silhouette::after{
  content:"";
  position:absolute;
  inset:-22%;
  z-index:-3;                 /* ::before よりもさらに背面 */
  pointer-events:none;
  mix-blend-mode:screen;
  opacity:.55;
  background:
    radial-gradient(80% 70% at 50% 52%, rgba(255,235,200,.16), transparent 80%);
  filter: blur(26px);
}
/* いったん既存の ::before/::after を無効化（他所で定義されていても消す） */
.seraphia-silhouette::before,
.seraphia-silhouette::after{
  content: none !important;
}

/* --- CSSだけの後光（強め・見える用） --- */
.seraphia-silhouette{
  position: absolute; left: 50%; top: 50%;
  transform: translate(-50%, -50%);
  width: min(38vmin, 420px); aspect-ratio: 3/5;
  background: url('assets/seraphia/seraphia_manifest.png') center/contain no-repeat;
  opacity: .16;
  filter: grayscale(100%) contrast(128%) brightness(130%);
  mix-blend-mode: screen;
  pointer-events: none; z-index: 2;
}

/* 背面の“息する”後光（必ず本体の背面に出る） */
/* 背面の“息する”後光（暗くならない版） */
.seraphia-silhouette::before{
  content: "";
  position: absolute;
  inset: -14%;                 /* 広がり控えめ。もっと広げたい時は -18% へ */
  z-index: -1;                 /* 本体の背面。扉より後ろに行かないように */
  pointer-events: none;

  /* ★ ブレンド：明るい所だけを上書き（暗くならない） */
  mix-blend-mode: lighten;

  /* 明るさ・柔らかさ（強すぎたら opacity/blur を下げる） */
  opacity: .75;
  filter: blur(16px) brightness(1.08);

  /* 光だけを描く（黒は一切使わない） */
  background:
    /* やわらかい放射（控えめ） */
    conic-gradient(from -90deg at 50% 42%,
      rgba(255,240,210,.12), transparent 16%,
      rgba(255,240,210,.12) 32%, transparent 48%,
      rgba(255,240,210,.12) 64%, transparent 80%,
      rgba(255,240,210,.12) 96%, transparent 100%),
    /* 中間の光輪 */
    radial-gradient(62% 62% at 50% 56%, rgba(255,230,190,.30), transparent 80%),
    /* 内側の光 */
    radial-gradient(38% 38% at 50% 56%, rgba(255,255,255,.36), transparent 78%);
  animation: haloPulse 7s ease-in-out infinite;
}
@keyframes haloPulse{
  0%,100%{ filter: blur(16px) brightness(1.06); opacity:.75 }
  50%    { filter: blur(20px) brightness(1.12); opacity:.9 }
}


/* 囁き：画面中央下（ステージとは独立） */
.whisper{ position:fixed; left:50%; bottom:7vh; transform:translateX(-50%); opacity:.9; text-align:center }
