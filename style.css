:root{
  --ink:#e9dfd6;
  --bg:#000;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0}
body.hall{
  font-family:"Cormorant Garamond","Yu Mincho",serif;
  color:var(--ink); background:#000; overflow:hidden;
}

/* 背景の星 */
#dust{position:fixed; inset:0; display:block; z-index:0}

/* タイトル（扉より前） */
.hero{
  position:fixed; left:50%; top:12vh; transform:translateX(-50%);
  display:flex; flex-direction:column; align-items:center; gap:.6rem;
  z-index:5; pointer-events:none; text-align:center;
}
.hero h1{
  margin:0; font-family:"Cinzel",serif; font-weight:600;
  letter-spacing:.18em; font-size:clamp(28px,6vw,60px);
  color:#f3eadf;
  text-shadow:0 0 22px rgba(255,240,200,.55), 0 0 48px rgba(255,220,150,.28);
}
.hero .subtitle{
  margin:0; font-style:italic; color:#d0c4b6;
  font-size:clamp(13px,2.4vw,18px);
  text-shadow:0 0 18px rgba(255,220,150,.35);
}

/* 祭壇ステージ（中央固定） */
.hall-stage{
  position:fixed; left:50%; top:52vh; transform:translate(-50%,-50%);
  width:min(1200px,96vw); height:min(80vh,720px);
  z-index:1; isolation:isolate;
}

/* 扉（枠なし版） */
.doors--orbit{position:absolute; inset:0}
.doors--orbit .door{
  position:absolute; top:0; left:0;
  width:clamp(140px, 18vmin, 220px);
  aspect-ratio:3/4;
  --tx:0px; --ty:0px; --pulse:1;
  transform:translate(var(--tx),var(--ty)) translate(-50%,-50%) scale(var(--pulse));
  transition:filter .45s ease, transform .45s ease;
  display:flex; align-items:flex-end; justify-content:center;
  text-decoration:none; color:var(--ink);
  /* 画像のみ表示。背景透過PNGをそのまま乗せる */
  background-position:center;
  background-repeat:no-repeat;
  background-size:contain;
  filter:drop-shadow(0 4px 14px rgba(0,0,0,.6));
}
@media (hover:hover){
  .doors--orbit .door:hover{
    transform:translate(var(--tx),var(--ty)) translate(-50%,-50%) scale(1.08);
    filter:drop-shadow(0 8px 22px rgba(0,0,0,.75)) brightness(1.03);
  }
}
/* ラベル（小さな銘板。邪魔なら消してOK） */
.door__label{
  margin:10px 0 8px;
  padding:.28rem .6rem;
  font-size:14px; letter-spacing:.08em;
  background:rgba(0,0,0,.45); border:1px solid rgba(235,205,120,.38);
  border-radius:6px; text-shadow:0 1px 0 rgba(0,0,0,.85);
  box-shadow:0 0 8px rgba(255,220,150,.12);
}

/* セラフィア（中央＋後光） */
.seraphia-silhouette{
  position:absolute; left:50%; top:50%;
  transform:translate(-50%,-50%);
  width:min(40vmin,440px); aspect-ratio:3/5;
  background:url('assets/seraphia/seraphia_manifest.png') center/contain no-repeat;
  mix-blend-mode:screen; opacity:.14;
  filter:grayscale(100%) contrast(128%) brightness(130%);
  pointer-events:none; z-index:2;
}
.seraphia-silhouette::before{
  content:""; position:absolute; inset:-14%;
  mix-blend-mode:lighten; opacity:.8; filter:blur(18px) brightness(1.1);
  background:
    conic-gradient(from -90deg at 50% 42%,
      rgba(255,240,210,.12), transparent 16%,
      rgba(255,240,210,.12) 32%, transparent 48%,
      rgba(255,240,210,.12) 64%, transparent 80%,
      rgba(255,240,210,.12) 96%, transparent 100%),
    radial-gradient(62% 62% at 50% 56%, rgba(255,230,190,.30), transparent 80%),
    radial-gradient(38% 38% at 50% 56%, rgba(255,255,255,.36), transparent 78%);
  animation:halo 7s ease-in-out infinite;
}
@keyframes halo{
  0%,100%{filter:blur(18px) brightness(1.08); opacity:.78}
  50%{filter:blur(22px) brightness(1.15); opacity:.95}
}

/* 囁き（前面・中央下） */
.whisper{
  position:fixed; left:50%; bottom:9vh; transform:translateX(-50%);
  width:min(92vw,680px); max-width:42ch; text-align:center;
  z-index:6; pointer-events:none; user-select:none;
}
.whisper .line{
  position:absolute; left:50%; transform:translateX(-50%);
  color:#cbbfb6; font-style:italic; letter-spacing:.06em; line-height:1.9;
  text-shadow:0 0 8px rgba(255,240,210,.25), 0 0 22px rgba(255,230,180,.15);
  opacity:0; filter:blur(.4px);
}
.whisper .show{animation:in 1200ms ease forwards, breathe 8s ease-in-out infinite}
.whisper .hide{animation:out 1000ms ease forwards}
@keyframes in{0%{opacity:0;transform:translate(-50%,6px)}100%{opacity:.9;transform:translate(-50%,0)}}
@keyframes out{0%{opacity:.9;transform:translate(-50%,0)}100%{opacity:0;transform:translate(-50%,-4px)}}
@keyframes breathe{0%,100%{opacity:.9}50%{opacity:.55}}

/* 儀式ボタン（右下・薄く・リップル） */
.ritual-btn{
  position:fixed; right:24px; bottom:22px;
  padding:.55rem .9rem; font-size:14px; letter-spacing:.08em;
  color:#e9e1d9; background:rgba(255,255,255,.06);
  border:none; border-radius:999px; cursor:pointer; z-index:7;
  backdrop-filter: blur(6px);
  box-shadow:0 0 0 1px rgba(255,255,255,.12) inset, 0 8px 24px rgba(0,0,0,.4);
  transition:filter .3s ease, transform .2s ease, background .3s ease;
}
.ritual-btn:hover{ background:rgba(255,255,255,.1); transform:translateY(-1px) }
.ritual-btn i{ /* ripple carrier */
  position:absolute; inset:0; border-radius:inherit; pointer-events:none; overflow:hidden;
}
.ritual-btn::after{
  content:""; position:absolute; left:50%; top:50%; width:10px; height:10px;
  border-radius:50%; background:radial-gradient(circle, rgba(255,240,210,.35), transparent 60%);
  transform:translate(-50%,-50%) scale(0); opacity:0; transition:transform .6s ease, opacity .6s ease;
}
.ritual-btn:hover::after{ transform:translate(-50%,-50%) scale(10); opacity:1 }

/* ーー 各扉：画像と雰囲気カラー ーー */
.door--kagami{      --glow:#c8d6ff; background-image:url('assets/doors/kagami.png'); }
.door--shosai{      --glow:#ffb36b; background-image:url('assets/doors/shosai.png'); }
.door--reihaido{    --glow:#9ad1ff; background-image:url('assets/doors/reihaido.png'); }
.door--atorie{      --glow:#ff99cf; background-image:url('assets/doors/atorie.png'); }
.door--renkin{      --glow:#7bffb0; background-image:url('assets/doors/renkin.png'); }
.door--teien{       --glow:#a7ff9a; background-image:url('assets/doors/teien.png'); }
.door--shishitsu{   --glow:#d3b8ff; background-image:url('assets/doors/shishitsu.png'); }
.door--kyakushitsu{ --glow:#ff9a9a; background-image:url('assets/doors/kyakushitsu.png'); }
.door--gishiki{     --glow:#ffd37a; background-image:url('assets/doors/gishiki.png'); }

/* 扉の雰囲気（淡い内光） */
.doors--orbit .door::after{
  content:""; position:absolute; inset:-8%;
  background: radial-gradient(40% 48% at 50% 60%, color-mix(in oklab, var(--glow) 28%, transparent), transparent 70%);
  filter:blur(10px); opacity:.45; mix-blend-mode:screen; pointer-events:none;
  transition:opacity .45s ease, filter .45s ease;
}
@media (hover:hover){ .doors--orbit .door:hover::after{ opacity:.75; filter:blur(14px) } }

/* モバイル微調整 */
@media (max-width:768px){
  .hero{ top:8vh }
  .seraphia-silhouette{ width:min(46vmin,360px); opacity:.12 }
  .ritual-btn{ right:14px; bottom:14px }
}
